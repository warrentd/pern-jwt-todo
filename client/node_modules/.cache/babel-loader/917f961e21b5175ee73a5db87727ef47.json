{"ast":null,"code":"import _regeneratorRuntime from\"/Users/trwarren/Projects/pern-jwt-todo/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/trwarren/Projects/pern-jwt-todo/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/trwarren/Projects/pern-jwt-todo/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{Fragment,useState}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var EditTodo=function EditTodo(_ref){var todo=_ref.todo,setTodosChange=_ref.setTodosChange;var _useState=useState(todo.description),_useState2=_slicedToArray(_useState,2),description=_useState2[0],setDescription=_useState2[1];//edit description function\nvar updateDescription=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var body,myHeaders;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();_context.prev=1;body={description:description};myHeaders=new Headers();myHeaders.append('Content-Type','application/json');myHeaders.append('token',localStorage.token);//proxy\n_context.next=8;return fetch(\"/dashboard/todos/\".concat(todo.todo_id),{method:\"PUT\",headers:myHeaders,body:JSON.stringify(body)});case 8:setTodosChange(true);//cause the useEffect function on Dashboard Component to run and prevent page refresh\n_context.next=14;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](1);console.error(_context.t0.message);case 14:case\"end\":return _context.stop();}}},_callee,null,[[1,11]]);}));return function updateDescription(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-warning\",\"data-toggle\":\"modal\",\"data-target\":\"#id\".concat(todo.todo_id),children:\"Edit\"}),/*#__PURE__*/_jsx(\"div\",{className:\"modal\",id:\"id\".concat(todo.todo_id),onClick:function onClick(){return setDescription(todo.description);},children:/*#__PURE__*/_jsx(\"div\",{className:\"modal-dialog\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"modal-title\",children:\"Edit Todo\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"close\",\"data-dismiss\":\"modal\",onClick:function onClick(){return setDescription(todo.description);},children:\"\\xD7\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"modal-body\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",value:description,onChange:function onChange(e){return setDescription(e.target.value);}})}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-footer\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-warning\",\"data-dismiss\":\"modal\",onClick:function onClick(e){return updateDescription(e);},children:\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-danger\",\"data-dismiss\":\"modal\",onClick:function onClick(){return setDescription(todo.description);},children:\"Close\"})]})]})})})]});};export default EditTodo;","map":{"version":3,"sources":["/Users/trwarren/Projects/pern-jwt-todo/client/src/components/dashboard/todolist/EditTodo.js"],"names":["React","Fragment","useState","EditTodo","todo","setTodosChange","description","setDescription","updateDescription","e","preventDefault","body","myHeaders","Headers","append","localStorage","token","fetch","todo_id","method","headers","JSON","stringify","console","error","message","target","value"],"mappings":"yeAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,QAA1B,KAA0C,OAA1C,C,wFAEA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,MAA8B,IAA3BC,CAAAA,IAA2B,MAA3BA,IAA2B,CAArBC,cAAqB,MAArBA,cAAqB,CAC7C,cAAsCH,QAAQ,CAACE,IAAI,CAACE,WAAN,CAA9C,wCAAOA,WAAP,eAAoBC,cAApB,eAEA;AACA,GAAMC,CAAAA,iBAAiB,2FAAG,iBAAMC,CAAN,qIACxBA,CAAC,CAACC,cAAF,GADwB,gBAGhBC,IAHgB,CAGT,CAAEL,WAAW,CAAXA,WAAF,CAHS,CAIhBM,SAJgB,CAIJ,GAAIC,CAAAA,OAAJ,EAJI,CAKtBD,SAAS,CAACE,MAAV,CAAiB,cAAjB,CAAiC,kBAAjC,EACAF,SAAS,CAACE,MAAV,CAAiB,OAAjB,CAA0BC,YAAY,CAACC,KAAvC,EAEA;AARsB,sBAShBC,CAAAA,KAAK,4BACWb,IAAI,CAACc,OADhB,EAET,CACEC,MAAM,CAAE,KADV,CAEEC,OAAO,CAAER,SAFX,CAGED,IAAI,CAAEU,IAAI,CAACC,SAAL,CAAeX,IAAf,CAHR,CAFS,CATW,QAkBtBN,cAAc,CAAC,IAAD,CAAd,CAAsB;AAlBA,iFAqBtBkB,OAAO,CAACC,KAAR,CAAc,YAAIC,OAAlB,EArBsB,qEAAH,kBAAjBjB,CAAAA,iBAAiB,6CAAvB,CAyBA,mBACE,MAAC,QAAD,yBACE,eACE,IAAI,CAAC,QADP,CAEE,SAAS,CAAC,iBAFZ,CAGE,cAAY,OAHd,CAIE,2BAAmBJ,IAAI,CAACc,OAAxB,CAJF,kBADF,cAaE,YACE,SAAS,CAAC,OADZ,CAEE,EAAE,aAAOd,IAAI,CAACc,OAAZ,CAFJ,CAGE,OAAO,CAAE,yBAAMX,CAAAA,cAAc,CAACH,IAAI,CAACE,WAAN,CAApB,EAHX,uBAKE,YAAK,SAAS,CAAC,cAAf,uBACE,aAAK,SAAS,CAAC,eAAf,wBACE,aAAK,SAAS,CAAC,cAAf,wBACE,WAAI,SAAS,CAAC,aAAd,uBADF,cAEE,eACE,IAAI,CAAC,QADP,CAEE,SAAS,CAAC,OAFZ,CAGE,eAAa,OAHf,CAIE,OAAO,CAAE,yBAAMC,CAAAA,cAAc,CAACH,IAAI,CAACE,WAAN,CAApB,EAJX,kBAFF,GADF,cAaE,YAAK,SAAS,CAAC,YAAf,uBACE,cACE,IAAI,CAAC,MADP,CAEE,SAAS,CAAC,cAFZ,CAGE,KAAK,CAAEA,WAHT,CAIE,QAAQ,CAAE,kBAAAG,CAAC,QAAIF,CAAAA,cAAc,CAACE,CAAC,CAACiB,MAAF,CAASC,KAAV,CAAlB,EAJb,EADF,EAbF,cAsBE,aAAK,SAAS,CAAC,cAAf,wBACE,eACE,IAAI,CAAC,QADP,CAEE,SAAS,CAAC,iBAFZ,CAGE,eAAa,OAHf,CAIE,OAAO,CAAE,iBAAAlB,CAAC,QAAID,CAAAA,iBAAiB,CAACC,CAAD,CAArB,EAJZ,kBADF,cASE,eACE,IAAI,CAAC,QADP,CAEE,SAAS,CAAC,gBAFZ,CAGE,eAAa,OAHf,CAIE,OAAO,CAAE,yBAAMF,CAAAA,cAAc,CAACH,IAAI,CAACE,WAAN,CAApB,EAJX,mBATF,GAtBF,GADF,EALF,EAbF,GADF,CAiED,CA9FD,CAgGA,cAAeH,CAAAA,QAAf","sourcesContent":["import React, { Fragment, useState } from \"react\";\n\nconst EditTodo = ({ todo, setTodosChange }) => {\n  const [description, setDescription] = useState(todo.description);\n\n  //edit description function\n  const updateDescription = async e => {\n    e.preventDefault();\n    try {\n      const body = { description };\n      const myHeaders = new Headers();\n      myHeaders.append('Content-Type', 'application/json');\n      myHeaders.append('token', localStorage.token);\n\n      //proxy\n      await fetch(\n        `/dashboard/todos/${todo.todo_id}`,\n        {\n          method: \"PUT\",\n          headers: myHeaders,\n          body: JSON.stringify(body)\n        }\n      );\n\n      setTodosChange(true); //cause the useEffect function on Dashboard Component to run and prevent page refresh\n\n    } catch (err) {\n      console.error(err.message);\n    }\n  };\n\n  return (\n    <Fragment>\n      <button\n        type=\"button\"\n        className=\"btn btn-warning\"\n        data-toggle=\"modal\"\n        data-target={`#id${todo.todo_id}`}\n      >\n        Edit\n      </button>\n\n      {/* \n        id = id10\n      */}\n      <div\n        className=\"modal\"\n        id={`id${todo.todo_id}`}\n        onClick={() => setDescription(todo.description)}\n      >\n        <div className=\"modal-dialog\">\n          <div className=\"modal-content\">\n            <div className=\"modal-header\">\n              <h4 className=\"modal-title\">Edit Todo</h4>\n              <button\n                type=\"button\"\n                className=\"close\"\n                data-dismiss=\"modal\"\n                onClick={() => setDescription(todo.description)}\n              >\n                &times;\n              </button>\n            </div>\n\n            <div className=\"modal-body\">\n              <input\n                type=\"text\"\n                className=\"form-control\"\n                value={description}\n                onChange={e => setDescription(e.target.value)}\n              />\n            </div>\n\n            <div className=\"modal-footer\">\n              <button\n                type=\"button\"\n                className=\"btn btn-warning\"\n                data-dismiss=\"modal\"\n                onClick={e => updateDescription(e)}\n              >\n                Edit\n              </button>\n              <button\n                type=\"button\"\n                className=\"btn btn-danger\"\n                data-dismiss=\"modal\"\n                onClick={() => setDescription(todo.description)}\n              >\n                Close\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </Fragment>\n  );\n};\n\nexport default EditTodo;"]},"metadata":{},"sourceType":"module"}